<!DOCTYPE html>
<html>
<head>
	<title>Chess TV Screen</title>
    
    <style>    body,legend,td,th{padding:0}.container,.layer{left:0;width:1280px}#board{position:relative;border:2px solid #000;margin:70px auto}img,legend{border:0}.piece,.square{position:absolute}.square.b{background-color:#ccc}.square.w{background-color:#eee}.piece{background-size:contain}/*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}.layer,body{background-color:#484848}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.container,.exit,.explain,.layer{position:absolute}sup{top:-.5em}.container,.layer{height:720px;top:0}sub{bottom:-.25em}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}.container,body{overflow:hidden}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}table{border-collapse:collapse;border-spacing:0}body{color:#f1f1f1;text-shadow:2px 2px 2px #333;font-family:Arial,sans-serif;font-size:22px;margin:0}p{margin-left:5px}.layer{z-index:0}body.loading .layer.loading{display:block;z-index:1}.layer.loading .explain,.layer.no-connection .explain{width:1180px;text-align:center}body.connected .layer.connected,body.no-connection .layer.no-connection{display:block;z-index:2}.nav{background-color:#666;border:2px solid #666;cursor:pointer;box-shadow:4px 4px 8px #333}.nav.focus{border:2px solid #f1f1f1}.exit{bottom:32px;right:32px;width:100px;height:50px;line-height:50px;text-align:center;z-index:3}.explain{top:100px;left:100px;width:500px}span.link{color:#97C03D}span.head{line-height:40px}

    </style>
</head>
<body onload="window.app.onLoad();" class="loading">
    <div class="container">
        <div class="layer connected">
            <div id="board"></div>
        </div>
        <div class="layer loading">
            <div class="explain">
                <p><img src="images/chess.png"/></p>
                <p>Chess TV Screen</p>
                <p>Loading...</p>
                <p><img src="images/ajax-loader.gif"/></p>
            </div>
        </div>
        <div class="layer no-connection">
            <div class="explain">
                <p><img src="images/chess.png"/></p>
                <p>There is no connection to your Android device</p>
                <p>Trying to connect...</p>
                <p><img src="images/ajax-loader.gif"/></p>
            </div>
        </div>
        <div class="layer no-device">
            <div class="explain">
                <p>Chess TV Screen</p>
                <p>This TV app needs to be paired with the Chess app on your Android device in order to show the chess board</p>
                <p>If you do not have the Chess app installed on your Android smart phone or tablet, go to <span class="link">http://jwtc.nl/downloads</span> and install Chess via Google Play</p>
                <!--<p><img src="images/chess.png"/></p>
                <p><img src="images/play_logo_x2.png" width="240"/></p>-->
            </div>
            
        </div>
        <div class="nav exit">Exit</div>
    </div>
   
    
    
    <script>
    //<![CDATA[    !function(){function isDescendant(e,t){return e&&(e.parentNode==t||e.parentNode!=document&&isDescendant(e.parentNode,t))}function getElementsByClassName(e,t){var n=[],i=new RegExp("\\b"+e+"\\b"),o=t.getElementsByTagName("*");t=t||document.getElementsByTagName("body")[0];for(var s=0,a=o.length;a>s;s++)i.test(o[s].className)&&n.push(o[s]);return n}function extend(e,t,n){for(key in t)n&&(isPlainObject(t[key])||isArray(t[key]))?(isPlainObject(t[key])&&!isPlainObject(e[key])&&(e[key]={}),isArray(t[key])&&!isArray(e[key])&&(e[key]=[]),extend(e[key],t[key],n)):void 0!==t[key]&&(e[key]=t[key])}window.Light=function(e,t){return new Light.core.init(e,t)},window.$||(window.$=window.Light),Light.core=Light.prototype={init:function(e,t){var n;if(e=e||window,t=t&&t.els&&t.els.length?t.els[0]:t||document,n="string"==typeof e?Light.selector(e,t):n=e,this.els=[],null!=n)if("undefined"!=typeof n.length)for(var i=0,o=n.length;o>i;i++)null!=n[i]&&this.els.push(n[i]);else this.els.push(n);return this},get:function(e){return"undefined"==typeof e?this.els:this.els[e]},count:function(){return this.els.length},each:function(e){for(var t=0,n=this.els.length;n>t;t++)e.call(this,this.els[t]);return this},attr:function(e,t,n){return this.each(function(i){"undefined"==typeof n?i[e]=t:i[n][e]=t}),this},css:function(e){var t=this;return this.each(function(){for(var n in e)t.attr(n,e[n],"style")}),this},addClass:function(e){return this.each(function(t){$(t).hasClass(e)||(t.className+=" "+e)}),this},removeClass:function(e){return this.each(function(t){var n=t.className.replace(e,"");n=n.replace(new RegExp("[\\s]{2,}")," "),t.className=n}),this},on:function(e,t){var n=function(n){window.addEventListener?n.addEventListener(e,t,!1):window.attachEvent&&n.attachEvent("on"+e,function(){t.call(n,window.event)})};return this.each(function(e){n(e)}),this},trigger:function(e,t){var n;return document.createEvent?(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t)):(n=document.createEventObject(),n.eventType=e),n.eventName=e,n.memo=t||{},this.each(function(e){document.createEvent?e.dispatchEvent(n):e.fireEvent("on"+n.eventType,n)}),this},ready:function(e){return DOMReady.add(e),this},remove:function(){return this.each(function(e){e.parentNode.removeChild(e)}),this},hasClass:function(e){for(var t=0,n=this.els.length;n>t;t++)if(this.els[t].className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))return!0;return!1},html:function(e){return e?void this.each(function(t){try{t.innerHTML=e}catch(n){var i=document.createElement("div");for(i.innerHTML=e;t.firstChild;)t.removeChild(t.firstChild);for(var o=0,s=i.childNodes.length;s>o;o++)t.appendChild(i.childNodes[o])}}):this.els[0].innerHTML},show:function(){this.each(function(e){$(e).css({display:"block"})})},hide:function(){this.each(function(e){$(e).css({display:"none"})})},setBackgroundImage:function(e){this.each(function(t){$(t).css({backgroundImage:'url("'+e+'")'})})}},Light.selector=function(e,t){for(var n,i,o,s=e.split(","),a=0;a<s.length;a++){var r=s[a].replace(/ /g,"");"string"==typeof r&&(i=r.substr(0,1),o=r.substr(1),"#"==i?(n=document.getElementById(o),n=isDescendant(n,t)?n:null):n="."==i?getElementsByClassName(o,t):t.getElementsByTagName(r))}return n},Light.core.init.prototype=Light.core;var DOMReady=function(){var fns=[],isReady=!1,ready=function(){isReady=!0;for(var e=0;e<fns.length;e++)fns[e].call()};return this.add=function(fn){if(fn.constructor==String){var strFunc=fn;fn=function(){eval(strFunc)}}isReady?fn.call():fns[fns.length]=fn},window.addEventListener&&document.addEventListener("DOMContentLoaded",function(){ready()},!1),this}();Light.ready=DOMReady.add,$.extend=function(e){var t,n=[].slice.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){extend(e,n,t)}),e}}(),function(e,t){e.app=e.app||{},e.app.loadFEN=function(e,n,i){var o=function(e){for(var t=0;e>=8;)t++,e-=8;return{col:e,row:t}},s=t.getElementById(n);s.style.width=8*i+"px",s.style.height=8*i+"px";var a,r=e.split(/\s/g)[0];for(a=0;64>a;a++){var c=a%8,l=0===a?0:Math.floor(a/8),u=t.createElement("div");u.style.top=l*i+"px",u.style.left=c*i+"px",u.style.width=i+"px",u.style.height=i+"px",u.className="square "+(a%2===0&&l%2===0||a%2==1&&l%2==1?"w":"b"),s.appendChild(u)}var p,f=0;for(a=0;a<r.length;a++){var d=r.substr(a,1);if(d.match(/[A-Z]/i)){var h=o(f),m=t.createElement("div");m.style.top=h.row*i+"px",m.style.left=h.col*i+"px",m.style.width=i+"px",m.style.height=i+"px",m.className="piece",d.match(/[A-Z]/)&&(p="w"),d.match(/[a-z]/)&&(p="b"),m.style.backgroundImage="url(images/highres/"+d.toLowerCase()+p+".png)",s.appendChild(m),f++}d.match(/[0-8]/)&&(f+=parseInt(d))}}}(this,this.document),function(e){e.VK_LEFT=37,e.VK_UP=38,e.VK_RIGHT=39,e.VK_DOWN=40,e.VK_ENTER=13,e.VK_BACK=8,e.VK_EXIT=27,e.VK_0=48,e.VK_1=49,e.VK_2=50,e.VK_3=51,e.VK_4=52,e.VK_5=53,e.VK_6=54,e.VK_7=55,e.VK_8=56,e.VK_9=57,e.app=e.app||{},e.app.prepareDevice=function(){console.log("prepare device")},e.app.exit=function(){console.log("app.exit")},e.app.initDevice=function(){console.log("init device"),e.app.start()}}(this),function(e){e.app=e.app||{};e.app.initNav=function(){$(document).on("keydown",function(t){t.preventDefault(),e.app.exit()}),$(".nav").on("click",function(){e.app.exit()}),$(".nav").on("mouseover",function(e){$cur=$(".focus"),$cur.removeClass("focus"),$elt=$(e.target),$elt.addClass("focus")})},e.app.setFocus=function(e){$(".focus").removeClass("focus"),$(e).addClass("focus")}}(this),function(e){e.app=e.app||{};var t=function(t){var n=e.location.href,o=n.split(/[\?&]+/);for(i=0;i<o.length;i++){var s=o[i].split("=");if(s[0]==t)return s[1]}return!1},n=!1;e.app.setPollUrl=function(e){e&&14==e.length&&(n="http://"+parseInt(e.substr(0,3))+"."+parseInt(e.substr(3,3))+"."+parseInt(e.substr(6,3))+"."+parseInt(e.substr(9,3))+":80"+parseInt(e.substr(12,2)))},e.app.setPollUrl(t("LANCode")||(t("debug")?"19216817802392":!1));var o=!1,s=function(e,t,n){try{var i=new XMLHttpRequest;i.open("GET",e,!0),i.setRequestHeader("Accept","application/json"),i.timeout=1e4,i.onreadystatechange=function(){4==i.readyState&&(200==i.status?t(i.responseText):n(i.status))},i.send()}catch(o){console.log("xhr caught "+o),n(0)}};e.app.poll=function(){console.log("Polling: "+n),n?s(n,function(t){document.body.className="connected";try{var n=JSON.parse(t);console.log("Got FEN "+n.FEN),o!=n.FEN&&(e.app.loadFEN(n.FEN,"board",70),o=n.FEN)}catch(i){console.log(i)}setTimeout(function(){e.app.poll()},1e3)},function(t){console.log("xhr status "+t),document.body.className="no-connection",setTimeout(function(){e.app.poll()},5e3)}):document.body.className="no-device"}}(this),!function(e){"use strict";for(var t,n,i={},o=function(){},s="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=s.pop();)e[t]=e[t]||i;for(;n=a.pop();)e[n]=e[n]||o}(this.console=this.console||{}),function(e){e.app=e.app||{},e.app.onLoad=function(){e.app.initDevice()},e.app.start=function(){e.app.initNav(),e.app.poll()},e.app.prepareDevice()}(this);

    //]]>
    </script>
        
</body>
</html>