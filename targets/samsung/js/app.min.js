!function(){function isDescendant(e,t){return e&&(e.parentNode==t||e.parentNode!=document&&isDescendant(e.parentNode,t))}function getElementsByClassName(e,t){var n=[],o=new RegExp("\\b"+e+"\\b"),i=t.getElementsByTagName("*");t=t||document.getElementsByTagName("body")[0];for(var s=0,a=i.length;a>s;s++)o.test(i[s].className)&&n.push(i[s]);return n}function extend(e,t,n){for(key in t)n&&(isPlainObject(t[key])||isArray(t[key]))?(isPlainObject(t[key])&&!isPlainObject(e[key])&&(e[key]={}),isArray(t[key])&&!isArray(e[key])&&(e[key]=[]),extend(e[key],t[key],n)):void 0!==t[key]&&(e[key]=t[key])}window.Light=function(e,t){return new Light.core.init(e,t)},window.$||(window.$=window.Light),Light.core=Light.prototype={init:function(e,t){var n;if(e=e||window,t=t&&t.els&&t.els.length?t.els[0]:t||document,n="string"==typeof e?Light.selector(e,t):n=e,this.els=[],null!=n)if("undefined"!=typeof n.length)for(var o=0,i=n.length;i>o;o++)null!=n[o]&&this.els.push(n[o]);else this.els.push(n);return this},get:function(e){return"undefined"==typeof e?this.els:this.els[e]},count:function(){return this.els.length},each:function(e){for(var t=0,n=this.els.length;n>t;t++)e.call(this,this.els[t]);return this},attr:function(e,t,n){return this.each(function(o){"undefined"==typeof n?o[e]=t:o[n][e]=t}),this},css:function(e){var t=this;return this.each(function(){for(var n in e)t.attr(n,e[n],"style")}),this},addClass:function(e){return this.each(function(t){$(t).hasClass(e)||(t.className+=" "+e)}),this},removeClass:function(e){return this.each(function(t){var n=t.className.replace(e,"");n=n.replace(new RegExp("[\\s]{2,}")," "),t.className=n}),this},on:function(e,t){var n=function(n){window.addEventListener?n.addEventListener(e,t,!1):window.attachEvent&&n.attachEvent("on"+e,function(){t.call(n,window.event)})};return this.each(function(e){n(e)}),this},trigger:function(e,t){var n;return document.createEvent?(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t)):(n=document.createEventObject(),n.eventType=e),n.eventName=e,n.memo=t||{},this.each(function(e){document.createEvent?e.dispatchEvent(n):e.fireEvent("on"+n.eventType,n)}),this},ready:function(e){return DOMReady.add(e),this},remove:function(){return this.each(function(e){e.parentNode.removeChild(e)}),this},hasClass:function(e){for(var t=0,n=this.els.length;n>t;t++)if(this.els[t].className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))return!0;return!1},html:function(e){return e?void this.each(function(t){try{t.innerHTML=e}catch(n){var o=document.createElement("div");for(o.innerHTML=e;t.firstChild;)t.removeChild(t.firstChild);for(var i=0,s=o.childNodes.length;s>i;i++)t.appendChild(o.childNodes[i])}}):this.els[0].innerHTML},show:function(){this.each(function(e){$(e).css({display:"block"})})},hide:function(){this.each(function(e){$(e).css({display:"none"})})},setBackgroundImage:function(e){this.each(function(t){$(t).css({backgroundImage:'url("'+e+'")'})})}},Light.selector=function(e,t){for(var n,o,i,s=e.split(","),a=0;a<s.length;a++){var r=s[a].replace(/ /g,"");"string"==typeof r&&(o=r.substr(0,1),i=r.substr(1),"#"==o?(n=document.getElementById(i),n=isDescendant(n,t)?n:null):n="."==o?getElementsByClassName(i,t):t.getElementsByTagName(r))}return n},Light.core.init.prototype=Light.core;var DOMReady=function(){var fns=[],isReady=!1,ready=function(){isReady=!0;for(var e=0;e<fns.length;e++)fns[e].call()};return this.add=function(fn){if(fn.constructor==String){var strFunc=fn;fn=function(){eval(strFunc)}}isReady?fn.call():fns[fns.length]=fn},window.addEventListener&&document.addEventListener("DOMContentLoaded",function(){ready()},!1),this}();Light.ready=DOMReady.add,$.extend=function(e){var t,n=[].slice.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){extend(e,n,t)}),e}}(),function(e,t){e.app=e.app||{},e.app.loadFEN=function(e,n,o){var i=function(e){for(var t=0;e>=8;)t++,e-=8;return{col:e,row:t}},s=t.getElementById(n);s.style.width=8*o+"px",s.style.height=8*o+"px";var a,r=e.split(/\s/g)[0];for(a=0;64>a;a++){var c=a%8,l=0===a?0:Math.floor(a/8),u=t.createElement("div");u.style.top=l*o+"px",u.style.left=c*o+"px",u.style.width=o+"px",u.style.height=o+"px",u.className="square "+(a%2===0&&l%2===0||a%2==1&&l%2==1?"w":"b"),s.appendChild(u)}var p,d=0;for(a=0;a<r.length;a++){var f=r.substr(a,1);if(f.match(/[A-Z]/i)){var h=i(d),m=t.createElement("div");m.style.top=h.row*o+"px",m.style.left=h.col*o+"px",m.style.width=o+"px",m.style.height=o+"px",m.className="piece",f.match(/[A-Z]/)&&(p="w"),f.match(/[a-z]/)&&(p="b"),m.style.backgroundImage="url(images/highres/"+f.toLowerCase()+p+".png)",s.appendChild(m),d++}f.match(/[0-8]/)&&(d+=parseInt(f))}}}(this,this.document),function(e,t){e.app=e.app||{},e.app.prepareDevice=function(){console.log("prepare device");var e=function(e){var n=t.createElement("script");t.head.appendChild(n),n.src=e};e("$MANAGER_WIDGET/Common/API/TVKeyValue.js"),e("$MANAGER_WIDGET/Common/API/Widget.js"),e("$MANAGER_WIDGET/Common/API/Plugin.js")},e.app.exit=function(){console.log("app.exit - not initialized")},e.app.initDevice=function(){console.log("init device");var n=function(e,n){var o=t.createElement("object");return o.id=e,o.setAttribute("classid",n),t.body.appendChild(o),o};n("pluginObjectNNavi","clsid:SAMSUNG-INFOLINK-NNAVI"),n("APPCOMMON","clsid:SAMSUNG-INFOLINK-APPCOMMON"),n("pluginObjectTVMW","clsid:SAMSUNG-INFOLINK-TVMW");var o=n("pluginObjectNetwork ","clsid:SAMSUNG-INFOLINK-NETWORK");console.log(o.GetIP(1)||o.GetIP(0));var i=0,s=function(){if(console.log("doCommon"),"undefined"!=typeof Common&&Common.API&&Common.API.Plugin&&Common.API.Widget){try{var t=new Common.API.TVKeyValue,n=new Common.API.Widget,o=new Common.API.Plugin;e.VK_LEFT=t.KEY_LEFT,e.VK_UP=t.KEY_UP,e.VK_RIGHT=t.KEY_RIGHT,e.VK_DOWN=t.KEY_DOWN,e.VK_ENTER=t.KEY_ENTER,e.VK_BACK=t.KEY_RETURN,e.VK_EXIT=t.KEY_EXIT,e.VK_0=t.KEY_0,e.VK_1=t.KEY_1,e.VK_2=t.KEY_2,e.VK_3=t.KEY_3,e.VK_4=t.KEY_4,e.VK_5=t.KEY_5,e.VK_6=t.KEY_6,e.VK_7=t.KEY_7,e.VK_8=t.KEY_8,e.VK_9=t.KEY_9,e.app.exit=function(){n.sendExitEvent()}}catch(a){console.log(a)}var r=!1;e.onShow=function(){if(!r){r=!0;try{o.registKey(t.KEY_EXIT)}catch(n){console.log(n)}e.app.start()}},e.setTimeout(function(){onShow()},2e3);try{n.sendReadyEvent()}catch(a){console.log(a)}}else 2>i?(i++,setTimeout(s,100)):console.log("Tried to init device... failed...")};s()}}(this,this.document),function(e){e.app=e.app||{};e.app.initNav=function(){$(document).on("keydown",function(t){t.preventDefault(),e.app.exit()}),$(".nav").on("click",function(){e.app.exit()}),$(".nav").on("mouseover",function(e){$cur=$(".focus"),$cur.removeClass("focus"),$elt=$(e.target),$elt.addClass("focus")})},e.app.setFocus=function(e){$(".focus").removeClass("focus"),$(e).addClass("focus")}}(this),function(e){e.app=e.app||{};var t=function(t){var n=e.location.href,o=n.split(/[\?&]+/);for(i=0;i<o.length;i++){var s=o[i].split("=");if(s[0]==t)return s[1]}return!1},n=!1;e.app.setPollUrl=function(e){e&&14==e.length&&(n="http://"+parseInt(e.substr(0,3))+"."+parseInt(e.substr(3,3))+"."+parseInt(e.substr(6,3))+"."+parseInt(e.substr(9,3))+":80"+parseInt(e.substr(12,2)))},e.app.setPollUrl(t("LANCode")||(t("debug")?"19216817802392":!1));var o=!1,s=function(e,t,n){try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("Accept","application/json"),o.timeout=1e4,o.onreadystatechange=function(){4==o.readyState&&(200==o.status?t(o.responseText):n(o.status))},o.send()}catch(i){console.log("xhr caught "+i),n(0)}};e.app.poll=function(){console.log("Polling: "+n),n?s(n,function(t){document.body.className="connected";try{var n=JSON.parse(t);console.log("Got FEN "+n.FEN),o!=n.FEN&&(e.app.loadFEN(n.FEN,"board",70),o=n.FEN)}catch(i){console.log(i)}setTimeout(function(){e.app.poll()},1e3)},function(t){console.log("xhr status "+t),document.body.className="no-connection",setTimeout(function(){e.app.poll()},5e3)}):document.body.className="no-device"}}(this),!function(e){"use strict";for(var t,n,o={},i=function(){},s="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=s.pop();)e[t]=e[t]||o;for(;n=a.pop();)e[n]=e[n]||i}(this.console=this.console||{}),function(e){e.app=e.app||{},e.app.onLoad=function(){e.app.initDevice()},e.app.start=function(){e.app.initNav(),e.app.poll()},e.app.prepareDevice()}(this);